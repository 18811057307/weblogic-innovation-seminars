connect('weblogic','welcome1','t3://localhost:7001')
edit()

startEdit()
cd('/')
cmo.createUnixMachine('machine')
cd('/Machines/machine/NodeManager/machine')
cmo.setNMType('SSL')
cmo.setListenAddress('localhost')
cmo.setListenPort(5556)
cmo.setDebugEnabled(false)
activate()

startEdit()
cd('/')
cmo.createServerTemplate('app-cluster-Template-1')
cd('/ServerTemplates/app-cluster-Template-1')
cmo.setListenPort(7100)
cd('/ServerTemplates/app-cluster-Template-1/SSL/app-cluster-Template-1')
cmo.setListenPort(8100)
cd('/ServerTemplates/app-cluster-Template-1')
cmo.setMachine(getMBean('/Machines/machine'))
cd('/')
cmo.createCluster('app-cluster')
cd('/Clusters/app-cluster')
cmo.setClusterMessagingMode('unicast')
cd('/ServerTemplates/app-cluster-Template-1')
cmo.setCluster(getMBean('/Clusters/app-cluster'))
cd('/Clusters/app-cluster/DynamicServers/app-cluster')
cmo.setServerTemplate(getMBean('/ServerTemplates/app-cluster-Template-1'))
cmo.setDynamicClusterSize(2)
cmo.setMaxDynamicClusterSize(8)
cmo.setCalculatedListenPorts(true)
cmo.setCalculatedMachineNames(false)
cmo.setCalculatedListenPorts(true)
cmo.setServerNamePrefix('app-cluster-')
activate()

disconnect()
